<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate provides an asynchronous API to `mistral.rs`."><title>mistralrs - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="mistralrs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../mistralrs/index.html">mistralrs</a><span class="version">0.3.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#statics">Statics</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">mistralrs</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/mistralrs/lib.rs.html#1-85">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate provides an asynchronous API to <code>mistral.rs</code>.</p>
<p>To get started loading a model, check out the following builders:</p>
<ul>
<li><a href="v0_4_api/struct.TextModelBuilder.html" title="struct mistralrs::v0_4_api::TextModelBuilder"><code>TextModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.LoraModelBuilder.html" title="struct mistralrs::v0_4_api::LoraModelBuilder"><code>LoraModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.XLoraModelBuilder.html" title="struct mistralrs::v0_4_api::XLoraModelBuilder"><code>XLoraModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.GgufModelBuilder.html" title="struct mistralrs::v0_4_api::GgufModelBuilder"><code>GgufModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.GgufLoraModelBuilder.html" title="struct mistralrs::v0_4_api::GgufLoraModelBuilder"><code>GgufLoraModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.GgufXLoraModelBuilder.html" title="struct mistralrs::v0_4_api::GgufXLoraModelBuilder"><code>GgufXLoraModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.VisionModelBuilder.html" title="struct mistralrs::v0_4_api::VisionModelBuilder"><code>VisionModelBuilder</code></a></li>
<li><a href="v0_4_api/struct.AnyMoeModelBuilder.html" title="struct mistralrs::v0_4_api::AnyMoeModelBuilder"><code>AnyMoeModelBuilder</code></a></li>
</ul>
<p>Check out the <a href="v0_4_api/index.html" title="mod mistralrs::v0_4_api"><code>v0_4_api</code></a> module for concise documentation of this, newer API.</p>
<h3 id="example"><a class="doc-anchor" href="#example">§</a>Example</h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>anyhow::Result;
<span class="kw">use </span>mistralrs::{
    IsqType, PagedAttentionMetaBuilder, TextMessageRole, TextMessages, TextModelBuilder,
};

<span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() -&gt; <span class="prelude-ty">Result</span>&lt;()&gt; {
    <span class="kw">let </span>model = TextModelBuilder::new(<span class="string">"microsoft/Phi-3.5-mini-instruct"</span>.to_string())
        .with_isq(IsqType::Q8_0)
        .with_logging()
        .with_paged_attn(|| PagedAttentionMetaBuilder::default().build())<span class="question-mark">?
        </span>.build()
        .<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="kw">let </span>messages = TextMessages::new()
        .add_message(
            TextMessageRole::System,
            <span class="string">"You are an AI agent with a specialty in programming."</span>,
        )
        .add_message(
            TextMessageRole::User,
            <span class="string">"Hello! How are you? Please write generic binary search function in Rust."</span>,
        );

    <span class="kw">let </span>response = model.send_chat_request(messages).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="macro">println!</span>(<span class="string">"{}"</span>, response.choices[<span class="number">0</span>].message.content.as_ref().unwrap());
    <span class="macro">dbg!</span>(
        response.usage.avg_prompt_tok_per_sec,
        response.usage.avg_compl_tok_per_sec
    );

    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="v0_4_api/index.html" title="mod mistralrs::v0_4_api">v0_4_api</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="layers/index.html" title="mod mistralrs::layers">layers</a></div></li><li><div class="item-name"><a class="mod" href="v0_4_api/index.html" title="mod mistralrs::v0_4_api">v0_<wbr>4_<wbr>api</a></div><div class="desc docblock-short">This will be the API as of v0.4.0. Other APIs will <em>not</em> be deprecated, but moved into a module such as this one.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AnyMoeConfig.html" title="struct mistralrs::AnyMoeConfig">AnyMoe<wbr>Config</a></div></li><li><div class="item-name"><a class="struct" href="struct.AnyMoeLoader.html" title="struct mistralrs::AnyMoeLoader">AnyMoe<wbr>Loader</a></div></li><li><div class="item-name"><a class="struct" href="struct.AnyMoePipeline.html" title="struct mistralrs::AnyMoePipeline">AnyMoe<wbr>Pipeline</a></div></li><li><div class="item-name"><a class="struct" href="struct.CalledFunction.html" title="struct mistralrs::CalledFunction">Called<wbr>Function</a></div></li><li><div class="item-name"><a class="struct" href="struct.ChatCompletionChunkResponse.html" title="struct mistralrs::ChatCompletionChunkResponse">Chat<wbr>Completion<wbr>Chunk<wbr>Response</a></div><div class="desc docblock-short">Chat completion streaming request chunk.</div></li><li><div class="item-name"><a class="struct" href="struct.ChatCompletionResponse.html" title="struct mistralrs::ChatCompletionResponse">Chat<wbr>Completion<wbr>Response</a></div><div class="desc docblock-short">An OpenAI compatible chat completion response.</div></li><li><div class="item-name"><a class="struct" href="struct.ChatTemplate.html" title="struct mistralrs::ChatTemplate">Chat<wbr>Template</a></div><div class="desc docblock-short">Template for chat models including bos/eos/unk as well as the chat template.</div></li><li><div class="item-name"><a class="struct" href="struct.Choice.html" title="struct mistralrs::Choice">Choice</a></div><div class="desc docblock-short">Chat completion choice.</div></li><li><div class="item-name"><a class="struct" href="struct.ChunkChoice.html" title="struct mistralrs::ChunkChoice">Chunk<wbr>Choice</a></div><div class="desc docblock-short">Chat completion streaming chunk choice.</div></li><li><div class="item-name"><a class="struct" href="struct.CompletionChoice.html" title="struct mistralrs::CompletionChoice">Completion<wbr>Choice</a></div><div class="desc docblock-short">Completion request choice.</div></li><li><div class="item-name"><a class="struct" href="struct.CompletionChunkChoice.html" title="struct mistralrs::CompletionChunkChoice">Completion<wbr>Chunk<wbr>Choice</a></div><div class="desc docblock-short">Chat completion streaming chunk choice.</div></li><li><div class="item-name"><a class="struct" href="struct.CompletionChunkResponse.html" title="struct mistralrs::CompletionChunkResponse">Completion<wbr>Chunk<wbr>Response</a></div><div class="desc docblock-short">Completion request choice.</div></li><li><div class="item-name"><a class="struct" href="struct.CompletionResponse.html" title="struct mistralrs::CompletionResponse">Completion<wbr>Response</a></div><div class="desc docblock-short">An OpenAI compatible completion response.</div></li><li><div class="item-name"><a class="struct" href="struct.Delta.html" title="struct mistralrs::Delta">Delta</a></div><div class="desc docblock-short">Delta in content for streaming response.</div></li><li><div class="item-name"><a class="struct" href="struct.DeviceLayerMapMetadata.html" title="struct mistralrs::DeviceLayerMapMetadata">Device<wbr>Layer<wbr>MapMetadata</a></div></li><li><div class="item-name"><a class="struct" href="struct.DeviceMapMetadata.html" title="struct mistralrs::DeviceMapMetadata">Device<wbr>MapMetadata</a></div><div class="desc docblock-short">Metadata to initialize the device mapper.</div></li><li><div class="item-name"><a class="struct" href="struct.DiffusionGenerationParams.html" title="struct mistralrs::DiffusionGenerationParams">Diffusion<wbr>Generation<wbr>Params</a></div></li><li><div class="item-name"><a class="struct" href="struct.DiffusionLoader.html" title="struct mistralrs::DiffusionLoader">Diffusion<wbr>Loader</a></div><div class="desc docblock-short">A loader for a vision (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.DiffusionLoaderBuilder.html" title="struct mistralrs::DiffusionLoaderBuilder">Diffusion<wbr>Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a loader for a vision (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.DiffusionSpecificConfig.html" title="struct mistralrs::DiffusionSpecificConfig">Diffusion<wbr>Specific<wbr>Config</a></div><div class="desc docblock-short">Config specific to loading a vision model.</div></li><li><div class="item-name"><a class="struct" href="struct.DrySamplingParams.html" title="struct mistralrs::DrySamplingParams">DrySampling<wbr>Params</a></div></li><li><div class="item-name"><a class="struct" href="struct.Function.html" title="struct mistralrs::Function">Function</a></div></li><li><div class="item-name"><a class="struct" href="struct.GGMLLoader.html" title="struct mistralrs::GGMLLoader">GGML<wbr>Loader</a></div><div class="desc docblock-short">A loader for a GGML model.</div></li><li><div class="item-name"><a class="struct" href="struct.GGMLLoaderBuilder.html" title="struct mistralrs::GGMLLoaderBuilder">GGML<wbr>Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a GGML loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGMLSpecificConfig.html" title="struct mistralrs::GGMLSpecificConfig">GGML<wbr>Specific<wbr>Config</a></div><div class="desc docblock-short">Config for a GGML loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGUFLoader.html" title="struct mistralrs::GGUFLoader">GGUF<wbr>Loader</a></div><div class="desc docblock-short">Loader for a GGUF model.</div></li><li><div class="item-name"><a class="struct" href="struct.GGUFLoaderBuilder.html" title="struct mistralrs::GGUFLoaderBuilder">GGUF<wbr>Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a GGUF loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGUFSpecificConfig.html" title="struct mistralrs::GGUFSpecificConfig">GGUF<wbr>Specific<wbr>Config</a></div><div class="desc docblock-short">Config for a GGUF loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GemmaLoader.html" title="struct mistralrs::GemmaLoader">Gemma<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Gemma model.</div></li><li><div class="item-name"><a class="struct" href="struct.Idefics2Loader.html" title="struct mistralrs::Idefics2Loader">Idefics2<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.VisionLoader.html"><code>VisionLoader</code></a> for an Idefics 2 Vision model.</div></li><li><div class="item-name"><a class="struct" href="struct.ImageChoice.html" title="struct mistralrs::ImageChoice">Image<wbr>Choice</a></div></li><li><div class="item-name"><a class="struct" href="struct.ImageGenerationResponse.html" title="struct mistralrs::ImageGenerationResponse">Image<wbr>Generation<wbr>Response</a></div></li><li><div class="item-name"><a class="struct" href="struct.LLaVALoader.html" title="struct mistralrs::LLaVALoader">LLaVA<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.VisionLoader.html"><code>VisionLoader</code></a> for an LLaVA Vision model.</div></li><li><div class="item-name"><a class="struct" href="struct.LLaVANextLoader.html" title="struct mistralrs::LLaVANextLoader">LLaVA<wbr>Next<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.VisionLoader.html"><code>VisionLoader</code></a> for an LLaVANext Vision model.</div></li><li><div class="item-name"><a class="struct" href="struct.LayerDeviceMapper.html" title="struct mistralrs::LayerDeviceMapper">Layer<wbr>Device<wbr>Mapper</a></div><div class="desc docblock-short">A device mapper which does device mapping per hidden layer.</div></li><li><div class="item-name"><a class="struct" href="struct.LayerTopology.html" title="struct mistralrs::LayerTopology">Layer<wbr>Topology</a></div></li><li><div class="item-name"><a class="struct" href="struct.LlamaLoader.html" title="struct mistralrs::LlamaLoader">Llama<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Llama model.</div></li><li><div class="item-name"><a class="struct" href="struct.LoaderBuilder.html" title="struct mistralrs::LoaderBuilder">Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a loader using the selected model.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalModelPaths.html" title="struct mistralrs::LocalModelPaths">Local<wbr>Model<wbr>Paths</a></div><div class="desc docblock-short">All local paths and metadata necessary to load a model.</div></li><li><div class="item-name"><a class="struct" href="struct.Logprobs.html" title="struct mistralrs::Logprobs">Logprobs</a></div><div class="desc docblock-short">Logprobs per token.</div></li><li><div class="item-name"><a class="struct" href="struct.MemoryUsage.html" title="struct mistralrs::MemoryUsage">Memory<wbr>Usage</a></div></li><li><div class="item-name"><a class="struct" href="struct.MistralLoader.html" title="struct mistralrs::MistralLoader">Mistral<wbr>Loader</a></div></li><li><div class="item-name"><a class="struct" href="struct.MistralRs.html" title="struct mistralrs::MistralRs">Mistral<wbr>Rs</a></div><div class="desc docblock-short">The MistralRs struct handles sending requests to the engine.
It is the core multi-threaded component of mistral.rs, and uses <code>mpsc</code>
<code>Sender</code> and <code>Receiver</code> primitives to send and receive requests to the
engine.</div></li><li><div class="item-name"><a class="struct" href="struct.MistralRsBuilder.html" title="struct mistralrs::MistralRsBuilder">Mistral<wbr>RsBuilder</a></div><div class="desc docblock-short">The MistralRsBuilder takes the pipeline and a scheduler method and constructs
an Engine and a MistralRs instance. The Engine runs on a separate thread, and the MistralRs
instance stays on the calling thread.</div></li><li><div class="item-name"><a class="struct" href="struct.MistralRsConfig.html" title="struct mistralrs::MistralRsConfig">Mistral<wbr>RsConfig</a></div></li><li><div class="item-name"><a class="struct" href="struct.MixtralLoader.html" title="struct mistralrs::MixtralLoader">Mixtral<wbr>Loader</a></div></li><li><div class="item-name"><a class="struct" href="struct.NormalLoader.html" title="struct mistralrs::NormalLoader">Normal<wbr>Loader</a></div><div class="desc docblock-short">A loader for a “normal” (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.NormalLoaderBuilder.html" title="struct mistralrs::NormalLoaderBuilder">Normal<wbr>Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a loader for a “normal” (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.NormalRequest.html" title="struct mistralrs::NormalRequest">Normal<wbr>Request</a></div><div class="desc docblock-short">A normal request request to the <code>MistralRs</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.NormalSpecificConfig.html" title="struct mistralrs::NormalSpecificConfig">Normal<wbr>Specific<wbr>Config</a></div><div class="desc docblock-short">Config specific to loading a normal model.</div></li><li><div class="item-name"><a class="struct" href="struct.Ordering.html" title="struct mistralrs::Ordering">Ordering</a></div><div class="desc docblock-short">Adapter model ordering information.</div></li><li><div class="item-name"><a class="struct" href="struct.PagedAttentionConfig.html" title="struct mistralrs::PagedAttentionConfig">Paged<wbr>Attention<wbr>Config</a></div><div class="desc docblock-short">All memory counts in MB. Default for block size is 32.</div></li><li><div class="item-name"><a class="struct" href="struct.Phi2Loader.html" title="struct mistralrs::Phi2Loader">Phi2<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Phi 2 model.</div></li><li><div class="item-name"><a class="struct" href="struct.Phi3Loader.html" title="struct mistralrs::Phi3Loader">Phi3<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Phi 3 model.</div></li><li><div class="item-name"><a class="struct" href="struct.Phi3VLoader.html" title="struct mistralrs::Phi3VLoader">Phi3V<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.VisionLoader.html"><code>VisionLoader</code></a> for a Phi 3 Vision model.</div></li><li><div class="item-name"><a class="struct" href="struct.Qwen2Loader.html" title="struct mistralrs::Qwen2Loader">Qwen2<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Qwen 2 model.</div></li><li><div class="item-name"><a class="struct" href="struct.ResponseLogprob.html" title="struct mistralrs::ResponseLogprob">Response<wbr>Logprob</a></div><div class="desc docblock-short">A logprob with the top logprobs for this token.</div></li><li><div class="item-name"><a class="struct" href="struct.ResponseMessage.html" title="struct mistralrs::ResponseMessage">Response<wbr>Message</a></div><div class="desc docblock-short">Chat completion response message.</div></li><li><div class="item-name"><a class="struct" href="struct.SamplingParams.html" title="struct mistralrs::SamplingParams">Sampling<wbr>Params</a></div><div class="desc docblock-short">Sampling params are used to control sampling.</div></li><li><div class="item-name"><a class="struct" href="struct.SpeculativeConfig.html" title="struct mistralrs::SpeculativeConfig">Speculative<wbr>Config</a></div><div class="desc docblock-short">Metadata for a speculative pipeline</div></li><li><div class="item-name"><a class="struct" href="struct.SpeculativeLoader.html" title="struct mistralrs::SpeculativeLoader">Speculative<wbr>Loader</a></div><div class="desc docblock-short">A loader for a speculative pipeline using 2 <a href="trait.Loader.html" title="trait mistralrs::Loader"><code>Loader</code></a>s.</div></li><li><div class="item-name"><a class="struct" href="struct.SpeculativePipeline.html" title="struct mistralrs::SpeculativePipeline">Speculative<wbr>Pipeline</a></div><div class="desc docblock-short">Speculative decoding pipeline: <a href="https://arxiv.org/pdf/2211.17192">https://arxiv.org/pdf/2211.17192</a></div></li><li><div class="item-name"><a class="struct" href="struct.Starcoder2Loader.html" title="struct mistralrs::Starcoder2Loader">Starcoder2<wbr>Loader</a></div><div class="desc docblock-short"><a href="https://ericlbuehler.github.io/mistral.rs/mistralrs/struct.NormalLoader.html"><code>NormalLoader</code></a> for a Starcoder2 model.</div></li><li><div class="item-name"><a class="struct" href="struct.Tensor.html" title="struct mistralrs::Tensor">Tensor</a></div><div class="desc docblock-short">The core struct for manipulating tensors.</div></li><li><div class="item-name"><a class="struct" href="struct.Tool.html" title="struct mistralrs::Tool">Tool</a></div></li><li><div class="item-name"><a class="struct" href="struct.ToolCallResponse.html" title="struct mistralrs::ToolCallResponse">Tool<wbr>Call<wbr>Response</a></div></li><li><div class="item-name"><a class="struct" href="struct.TopLogprob.html" title="struct mistralrs::TopLogprob">TopLogprob</a></div><div class="desc docblock-short">Top-n logprobs element</div></li><li><div class="item-name"><a class="struct" href="struct.Topology.html" title="struct mistralrs::Topology">Topology</a></div></li><li><div class="item-name"><a class="struct" href="struct.Usage.html" title="struct mistralrs::Usage">Usage</a></div><div class="desc docblock-short">OpenAI compatible (superset) usage during a request.</div></li><li><div class="item-name"><a class="struct" href="struct.VisionLoader.html" title="struct mistralrs::VisionLoader">Vision<wbr>Loader</a></div><div class="desc docblock-short">A loader for a vision (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.VisionLoaderBuilder.html" title="struct mistralrs::VisionLoaderBuilder">Vision<wbr>Loader<wbr>Builder</a></div><div class="desc docblock-short">A builder for a loader for a vision (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.VisionSpecificConfig.html" title="struct mistralrs::VisionSpecificConfig">Vision<wbr>Specific<wbr>Config</a></div><div class="desc docblock-short">Config specific to loading a vision model.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AnyMoeExpertType.html" title="enum mistralrs::AnyMoeExpertType">AnyMoe<wbr>Expert<wbr>Type</a></div></li><li><div class="item-name"><a class="enum" href="enum.Constraint.html" title="enum mistralrs::Constraint">Constraint</a></div><div class="desc docblock-short">Control the constraint with Regex or Yacc.</div></li><li><div class="item-name"><a class="enum" href="enum.DType.html" title="enum mistralrs::DType">DType</a></div><div class="desc docblock-short">The different types of elements allowed in tensors.</div></li><li><div class="item-name"><a class="enum" href="enum.DefaultSchedulerMethod.html" title="enum mistralrs::DefaultSchedulerMethod">Default<wbr>Scheduler<wbr>Method</a></div><div class="desc docblock-short">The scheduler method controld how sequences are scheduled during each
step of the engine. For each scheduling step, the scheduler method is used if there
are not only running, only waiting sequences, or none. If is it used, then it
is used to allow waiting sequences to run.</div></li><li><div class="item-name"><a class="enum" href="enum.Device.html" title="enum mistralrs::Device">Device</a></div></li><li><div class="item-name"><a class="enum" href="enum.DiffusionLoaderType.html" title="enum mistralrs::DiffusionLoaderType">Diffusion<wbr>Loader<wbr>Type</a></div><div class="desc docblock-short">The architecture to load the vision model as.</div></li><li><div class="item-name"><a class="enum" href="enum.EngineInstruction.html" title="enum mistralrs::EngineInstruction">Engine<wbr>Instruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.GGUFArchitecture.html" title="enum mistralrs::GGUFArchitecture">GGUF<wbr>Architecture</a></div></li><li><div class="item-name"><a class="enum" href="enum.ImageGenerationResponseFormat.html" title="enum mistralrs::ImageGenerationResponseFormat">Image<wbr>Generation<wbr>Response<wbr>Format</a></div><div class="desc docblock-short">Image generation response format</div></li><li><div class="item-name"><a class="enum" href="enum.IsqOrganization.html" title="enum mistralrs::IsqOrganization">IsqOrganization</a></div></li><li><div class="item-name"><a class="enum" href="enum.IsqType.html" title="enum mistralrs::IsqType">IsqType</a></div></li><li><div class="item-name"><a class="enum" href="enum.MemoryGpuConfig.html" title="enum mistralrs::MemoryGpuConfig">Memory<wbr>GpuConfig</a></div></li><li><div class="item-name"><a class="enum" href="enum.MistralRsError.html" title="enum mistralrs::MistralRsError">Mistral<wbr>RsError</a></div></li><li><div class="item-name"><a class="enum" href="enum.ModelCategory.html" title="enum mistralrs::ModelCategory">Model<wbr>Category</a></div><div class="desc docblock-short">Category of the model.</div></li><li><div class="item-name"><a class="enum" href="enum.ModelDType.html" title="enum mistralrs::ModelDType">ModelD<wbr>Type</a></div><div class="desc docblock-short">DType for the model.</div></li><li><div class="item-name"><a class="enum" href="enum.ModelKind.html" title="enum mistralrs::ModelKind">Model<wbr>Kind</a></div><div class="desc docblock-short">The kind of model to build.</div></li><li><div class="item-name"><a class="enum" href="enum.ModelSelected.html" title="enum mistralrs::ModelSelected">Model<wbr>Selected</a></div></li><li><div class="item-name"><a class="enum" href="enum.NormalLoaderType.html" title="enum mistralrs::NormalLoaderType">Normal<wbr>Loader<wbr>Type</a></div><div class="desc docblock-short">The architecture to load the normal model as.</div></li><li><div class="item-name"><a class="enum" href="enum.Request.html" title="enum mistralrs::Request">Request</a></div><div class="desc docblock-short">A request to the Engine, encapsulating the various parameters as well as
the <code>mpsc</code> response <code>Sender</code> used to return the <a href="enum.Response.html" title="enum mistralrs::Response"><code>Response</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.RequestMessage.html" title="enum mistralrs::RequestMessage">Request<wbr>Message</a></div><div class="desc docblock-short">Message or messages for a <a href="enum.Request.html" title="enum mistralrs::Request"><code>Request</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.Response.html" title="enum mistralrs::Response">Response</a></div><div class="desc docblock-short">The response enum contains 3 types of variants:</div></li><li><div class="item-name"><a class="enum" href="enum.ResponseErr.html" title="enum mistralrs::ResponseErr">Response<wbr>Err</a></div></li><li><div class="item-name"><a class="enum" href="enum.ResponseOk.html" title="enum mistralrs::ResponseOk">Response<wbr>Ok</a></div></li><li><div class="item-name"><a class="enum" href="enum.SchedulerConfig.html" title="enum mistralrs::SchedulerConfig">Scheduler<wbr>Config</a></div></li><li><div class="item-name"><a class="enum" href="enum.StopTokens.html" title="enum mistralrs::StopTokens">Stop<wbr>Tokens</a></div><div class="desc docblock-short">Stop sequences or ids.</div></li><li><div class="item-name"><a class="enum" href="enum.TokenSource.html" title="enum mistralrs::TokenSource">Token<wbr>Source</a></div><div class="desc docblock-short">The source of the HF token.</div></li><li><div class="item-name"><a class="enum" href="enum.ToolCallType.html" title="enum mistralrs::ToolCallType">Tool<wbr>Call<wbr>Type</a></div></li><li><div class="item-name"><a class="enum" href="enum.ToolChoice.html" title="enum mistralrs::ToolChoice">Tool<wbr>Choice</a></div></li><li><div class="item-name"><a class="enum" href="enum.ToolType.html" title="enum mistralrs::ToolType">Tool<wbr>Type</a></div></li><li><div class="item-name"><a class="enum" href="enum.VisionLoaderType.html" title="enum mistralrs::VisionLoaderType">Vision<wbr>Loader<wbr>Type</a></div><div class="desc docblock-short">The architecture to load the vision model as.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.GGUF_MULTI_FILE_DELIMITER.html" title="constant mistralrs::GGUF_MULTI_FILE_DELIMITER">GGUF_<wbr>MULT<wbr>I_<wbr>FILE_<wbr>DELIMITER</a></div></li><li><div class="item-name"><a class="constant" href="constant.SYSTEM_FINGERPRINT.html" title="constant mistralrs::SYSTEM_FINGERPRINT">SYSTE<wbr>M_<wbr>FINGERPRINT</a></div></li></ul><h2 id="statics" class="section-header">Statics<a href="#statics" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="static" href="static.ENGINE_INSTRUCTIONS.html" title="static mistralrs::ENGINE_INSTRUCTIONS">ENGIN<wbr>E_<wbr>INSTRUCTIONS</a></div><div class="desc docblock-short">Engine instructions, per Engine (MistralRs) ID.</div></li><li><div class="item-name"><a class="static" href="static.TERMINATE_ALL_NEXT_STEP.html" title="static mistralrs::TERMINATE_ALL_NEXT_STEP">TERMINAT<wbr>E_<wbr>ALL_<wbr>NEXT_<wbr>STEP</a></div><div class="desc docblock-short">Terminate all sequences on the next scheduling step. Be sure to reset this.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.CustomLogitsProcessor.html" title="trait mistralrs::CustomLogitsProcessor">Custom<wbr>Logits<wbr>Processor</a></div><div class="desc docblock-short">Customizable logits processor.</div></li><li><div class="item-name"><a class="trait" href="trait.Loader.html" title="trait mistralrs::Loader">Loader</a></div><div class="desc docblock-short">The <code>Loader</code> trait abstracts the loading process. The primary entrypoint is the
<code>load_model</code> method.</div></li><li><div class="item-name"><a class="trait" href="trait.ModelPaths.html" title="trait mistralrs::ModelPaths">Model<wbr>Paths</a></div><div class="desc docblock-short"><code>ModelPaths</code> abstracts the mechanism to get all necessary files for running a model. For
example <code>LocalModelPaths</code> implements <code>ModelPaths</code> when all files are in the local file system.</div></li><li><div class="item-name"><a class="trait" href="trait.Pipeline.html" title="trait mistralrs::Pipeline">Pipeline</a></div></li><li><div class="item-name"><a class="trait" href="trait.TryIntoDType.html" title="trait mistralrs::TryIntoDType">TryIntoD<wbr>Type</a></div><div class="desc docblock-short">Type which can be converted to a DType</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.get_model_dtype.html" title="fn mistralrs::get_model_dtype">get_<wbr>model_<wbr>dtype</a></div></li><li><div class="item-name"><a class="fn" href="fn.get_tgt_non_granular_index.html" title="fn mistralrs::get_tgt_non_granular_index">get_<wbr>tgt_<wbr>non_<wbr>granular_<wbr>index</a></div></li><li><div class="item-name"><a class="fn" href="fn.get_toml_selected_model_dtype.html" title="fn mistralrs::get_toml_selected_model_dtype">get_<wbr>toml_<wbr>selected_<wbr>model_<wbr>dtype</a></div></li><li><div class="item-name"><a class="fn" href="fn.initialize_logging.html" title="fn mistralrs::initialize_logging">initialize_<wbr>logging</a></div><div class="desc docblock-short">This should be called to initialize the debug flag and logging.
This should not be called in mistralrs-core code due to Rust usage.</div></li><li><div class="item-name"><a class="fn" href="fn.paged_attn_supported.html" title="fn mistralrs::paged_attn_supported">paged_<wbr>attn_<wbr>supported</a></div></li><li><div class="item-name"><a class="fn" href="fn.parse_isq_value.html" title="fn mistralrs::parse_isq_value">parse_<wbr>isq_<wbr>value</a></div><div class="desc docblock-short">Parse ISQ value: one of</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.MessageContent.html" title="type mistralrs::MessageContent">Message<wbr>Content</a></div></li><li><div class="item-name"><a class="type" href="type.Result.html" title="type mistralrs::Result">Result</a></div></li></ul></section></div></main></body></html>